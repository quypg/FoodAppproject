<div id="wrapper">
    <nav class="navbar navbar-default navbar-cls-top " role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="index.html">QUY ADMIN</a>
        </div>
        <div style="color: white;
padding: 15px 50px 5px 50px;
float: right;
font-size: 16px;"> <a href="login.hbs" class="btn btn-danger square-btn-adjust">LOGIN</a> </div>
    </nav>
    <!-- /. NAV TOP  -->
    <nav class="navbar-default navbar-side" role="navigation">
        <div class="sidebar-collapse">
            <ul class="nav" id="main-menu">
                <li class="text-center">
                    <img src="images/find_user.png" class="user-image img-responsive" />
                </li>


                <li>
                    <a class="active-menu" href="index.html"><i class="fa fa-dashboard fa-3x"></i> Dashboard</a>
                </li>
                <li>
                    <a href="ui.html"><i class="fa fa-desktop fa-3x"></i> UI ELEMENTS</a>
                </li>
                <li>
                    <a href="tab-panel.html"><i class="fa fa-qrcode fa-3x"></i> TABS & PANELS</a>
                </li>
                <li>
                    <a href="chart.html"><i class="fa fa-bar-chart-o fa-3x"></i> Charts </a>
                </li>
                <li>
                    <a href="table.hbs"><i class="fa fa-table fa-3x"></i> TABLE PRODUCT</a>
                </li>
                <li>
                    <a href="form.html"><i class="fa fa-edit fa-3x"></i> FORMS </a>
                </li>


                <li>
                    <a href="#"><i class="fa fa-sitemap fa-3x"></i> MULTI-LEVELS<span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                        <li>
                            <a href="#">CUSTOMERS</a>
                        </li>
                        <li>
                            <a href="#">MANAGERS</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="/logout"><i class="fa fa-square-o fa-3x"></i> LOGOUT</a>
                </li>
            </ul>

        </div>

    </nav>
    <!-- /. NAV SIDE  -->
    <div id="page-wrapper">
        <div id="page-inner">
            <div class="row">
                <div class="col-md-12">
                    <h2>TABLE LISTS</h2>
                    <h5>Welcome QUY ADMIN </h5>
                </div>
            </div>

            </nav>
            <!-- /. ROW  -->
            <hr />

            <div class="row">
                <div class="col-md-12">
                    <!-- Advanced Tables -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Advanced Tables
                        </div>
                        <div class="panel-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Tên Sản Phẩm</th>
                                            <th>Giá</th>
                                            <th>Ngày Sản Xuất</th>
                                            <th>Hình Ảnh</th>
                                            <th>Nhãn Hàng </th>
                                            <th> </th>
                                        </tr>
                                        </thread>
                                    <tbody>
                                        {{#each danhSach}}
                                        <tr class="odd gradeA">
                                            <td>{{this.id}}</td>
                                            <td>{{this.ten}}</td>
                                            <td>{{this.gia}}</td>
                                            <td>{{this.ngaysx}}</td>
                                            <td>{{this.hinhanh}}</td>
                                            <td>{{this.nhanhang}}</td>
                                            <td>
                                                <button type="button" class="btn btn-link" onclick="onEdit({{this.id}})">
                                                    EDIT
                                                </button>
                                                <button type="button" class="btn btn-link" onclick="onDelete({{this.id}})">
                                                    DELETE
                                                </button>
                                                {{!-- <a href="/products/delete/{{this.id}}">Edit</a> --}}
                                            </td>
                                        </tr>
                                        {{/each}}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>

<script>
    const onDelete = async (id) =>{
        const url  = 'http://localhost:8080/products/detele/' +id
        const option = {
            method: 'detele',
            headers: {
                'Content-Type':'application/json'
            }
        } 
        try{
            await fetchAPI(url,option)
            //window.location.href ='/products'
        }catch(e){ 
            console.log('Delete error: ',e)
        }
    }
    const fetchAPI = async(url,option) =>{
        const res = await fetch(url,option)
        return res.json()
    }
    const onEdit = id =>{
        window.location.href ='/products/edit/' + id
    }
    
</script>